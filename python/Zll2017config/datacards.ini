#!! ---------------------------------------------------
#!! LIMIT
#!! config to configure datacard and workspace writing
#!! ----------------------------------------------------

[LimitGeneral]

#!! --------------------------------------
##!! Binning:
##!! --------------------------------------

HMassRange = 12,60,180
EtabbRange = 32,0,5
btagrange = 50,0,1

;DNN
;Ragne for mjj datacards
MassRange = 12,90,150
Mass = H_mass

;!! --------------------------------------
;!! Variables 
;!! --------------------------------------

; for V+HF control regions
#bTagVar      = <!General|Jet_btag!>[<!Cuts|btagidx1!>]
#bTagVarRange = 2,0,1

bTagVar      = 2*(<!General|Jet_btag!>[<!General|btagidx0!>]><!General|btagWP_Tight!>)+(<!General|Jet_btag!>[<!General|btagidx1!>]><!General|btagWP_Medium!>)+(<!General|Jet_btag!>[<!General|btagidx1!>]><!General|btagWP_Tight!>)
bTagVarRange = 5,0,5

#bTagVar      = 2*(<!General|Jet_btag!>[<!General|btagidx0!>]><!General|btagWP_Tight!>)+(<!General|Jet_btag!>[<!General|btagidx1!>]><!General|btagWP_Medium!>)+(<!General|Jet_btag!>[<!General|btagidx1!>]><!General|btagWP_Tight!>)+5*(H_mass>105.0)
#bTagVarRange = 10,0,10

; for TT/V+LF CR: only 1 bin with normalization
normVar = 0.5
normRange = 1,0,1


;!! --------------------------------------
;!! Systematics variations replacements
;!! --------------------------------------

# overwrite the default since in 2-lepton channel JET/MET uncertainties do not influence the vector boson
replace_cut_unclustEn = [
        'MET_Pt>MET_pt_unclustEn{UD}',
        'MET_Phi>MET_phi_unclustEn{UD}',
        ]
replace_cut_base_vector = [
        ]

;!! --------------------------------------
;!! Systematics
;!! --------------------------------------

sys_cr = [
    'jer',
    'jerRegSmear',
    'jerRegScale',
    'jesAbsolute',
    'jesAbsolute_2017',
    'jesBBEC1',
    'jesBBEC1_2017',	
    'jesEC2',
    'jesEC2_2017',
    'jesFlavorQCD',
    'jesHF',
    'jesHF_2017',
    'jesRelativeBal',
    'jesRelativeSample_2017',
    'unclustEn',
    'jmr',
    'jms',
    ]

       

sys_BDT = <!LimitGeneral|sys_cr!>
sys_Mjj = <!LimitGeneral|sys_cr!>

weightF_sys = [
;    'TEST_vhbb_Vjets_dr',
;    'TEST_vhbb_Vjets_deta',
;    'TEST_vhbb_Vjets_mjj',
;    'TEST_vhbb_Vjets_njets0',
;    'TEST_vhbb_Vjets_njets1',
;    'TEST_vhbb_Vjets_njets2',
;    'TEST_vhbb_BtagMjj_TT_100_110',
;    'TEST_vhbb_BtagMjj_TT_110_120',
;    'TEST_vhbb_BtagMjj_TT_120_130',
;    'TEST_vhbb_BtagMjj_TT_130_140',
;    'TEST_vhbb_BtagMjj_TT_140_150',
;    'TEST_vhbb_BtagMjj_TM_100_110',
;    'TEST_vhbb_BtagMjj_TM_110_120',
;    'TEST_vhbb_BtagMjj_TM_120_130',
;    'TEST_vhbb_BtagMjj_TM_130_140',
;    'TEST_vhbb_BtagMjj_TM_140_150',
    'CMS_vhbb_VjetsStitching100_2017_13TeV',
    'CMS_vhbb_VjetsBenriched_DYBJets_2017_13TeV',
    'CMS_vhbb_VjetsBenriched_DYJetsBGenFilter_2017_13TeV',
    'CMS_vhbb_VjetsBenriched_DYBJets_RW_2017_13TeV',
    'CMS_vhbb_VjetsBenriched_DYJetsBGenFilter_RW_2017_13TeV',
    'CMS_vhbb_Vjets_DYBJets_RW_2017_13TeV',
    'CMS_vhbb_Vjets_DYJetsBGenFilter_RW_2017_13TeV',
    'CMS_vhbb_Vjets_minJetPt',
    'CMS_vhbb_Vpt150_13TeV',
    'CMS_vhbb_Vpt250_13TeV',
    'CMS_vhbb_DeepCSV_TT',
    'CMS_vhbb_DeepCSV_TM',
    'CMS_vhbb_DeepCSV_TL',
    'CMS_vhbb_DeepCSV_MM',
    'CMS_vhbb_DeepCSV_ML',
    'CMS_vhbb_DeepCSV_LL',
; LO to NLO weight
;    'CMS_vhbb_DY_NLO_weight',
;    'CMS_vhbb_vjetnlodetajjrw_13TeV',
; 2017 version
    'CMS_vhbb_vjetnlovptrw_13TeV',
    'CMS_vhbb_vjetnlovptrw_ZJets0_13TeV',
    'CMS_vhbb_vjetnlovptrw_ZJets1_13TeV',
    'CMS_vhbb_vjetnlovptrw_ZJets2_13TeV',
    'CMS_vhbb_vjetnlovptrw_WJets0_13TeV',
    'CMS_vhbb_vjetnlovptrw_WJets1_13TeV',
    'CMS_vhbb_vjetnlovptrw_WJets2_13TeV',
    'CMS_vhbb_vjetnlovptrw_DYJets0_13TeV',
    'CMS_vhbb_vjetnlovptrw_DYJets1_13TeV',
    'CMS_vhbb_vjetnlovptrw_DYJets2_13TeV',
    'CMS_vhbb_vjetnlovptrw_ZBJets1_13TeV',
    'CMS_vhbb_vjetnlovptrw_ZBJets2_13TeV',
    'CMS_vhbb_vjetnlovptrw_WBJets1_13TeV',
    'CMS_vhbb_vjetnlovptrw_WBJets2_13TeV',
    'CMS_vhbb_vjetnlovptrw_DYBJets1_13TeV',
    'CMS_vhbb_vjetnlovptrw_DYBJets2_13TeV',
;    'CMS_vhbb_vjetnlovptrw_p0_13TeV',
;    'CMS_vhbb_vjetnlovptrw_p1_13TeV',
;    'CMS_vhbb_vjetnlovptrw_naddjet0_p0_13TeV',
;    'CMS_vhbb_vjetnlovptrw_naddjet0_p1_13TeV',
;    'CMS_vhbb_vjetnlovptrw_naddjet1_p0_13TeV',
;    'CMS_vhbb_vjetnlovptrw_naddjet1_p1_13TeV',
;    'CMS_vhbb_vjetnlovptrw_naddjet2_p0_13TeV',
;    'CMS_vhbb_vjetnlovptrw_naddjet2_p1_13TeV',
;    'CMS_vhbb_vjetnlovptrw_naddjet3_p0_13TeV',
;    'CMS_vhbb_vjetnlovptrw_naddjet3_p1_13TeV',
;    'CMS_vhbb_vjetnlovptrw_naddjet4_p0_13TeV',
;    'CMS_vhbb_vjetnlovptrw_naddjet4_p1_13TeV',
;    'CMS_vhbb_vjetnlovptrw_naddjet5_p0_13TeV',
;    'CMS_vhbb_vjetnlovptrw_naddjet5_p1_13TeV',
; top pt reweighting
;    'CMS_vhbb_topptreweighting_13TeV',
; Pileup
    'CMS_vhbb_puWeight',
; Jet PU ID
    'CMS_vhbb_jetPUID',
; Prefire correction
    'CMS_vhbb_PrefireWeight_13TeV',
; LHE scale
    'CMS_LHE_weights_scale_muR_ZH',
    'CMS_LHE_weights_scale_muR_ggZH',
    'CMS_LHE_weights_scale_muR_TT',
    'CMS_LHE_weights_scale_muR_Zj0b',
    'CMS_LHE_weights_scale_muR_Zj0b_udsg',
    'CMS_LHE_weights_scale_muR_Zj0b_c',
    'CMS_LHE_weights_scale_muR_Zj1b',
    'CMS_LHE_weights_scale_muR_Zj2b',
;   broken
;    'CMS_LHE_weights_scale_muR_VVHF',
;    'CMS_LHE_weights_scale_muR_VVLF',
    'CMS_LHE_weights_scale_muF_ZH',
    'CMS_LHE_weights_scale_muF_ggZH',
    'CMS_LHE_weights_scale_muF_TT',
    'CMS_LHE_weights_scale_muF_Zj0b',
    'CMS_LHE_weights_scale_muF_Zj0b_udsg',
    'CMS_LHE_weights_scale_muF_Zj0b_c',
    'CMS_LHE_weights_scale_muF_Zj1b',
    'CMS_LHE_weights_scale_muF_Zj2b',
;   broken
;    'CMS_LHE_weights_scale_muF_VVHF',
;    'CMS_LHE_weights_scale_muF_VVLF',
; EWK signal correction
    'CMS_vhbb_signal_ewk_13TeV',
    'CMS_vhbb_VJets_ewk_13TeV',
    'CMS_vhbb_Vjets_pdfwgt_0lep',
    'CMS_vhbb_Vjets_pdfwgt_1lep',
;    'CMS_vhbb_Vjets_pdfwgt_2lep'
; electron SF
;    'CMS_vhbb_eff_e_trigger_Zll_13TeV',
    'CMS_vhbb_eff_e_MVAID_Zll_13TeV',
;    'CMS_vhbb_eff_e_MVAID_Zll_eta0_13TeV',
;    'CMS_vhbb_eff_e_MVAID_Zll_eta1_13TeV',
; muon SF
; broken somehow
;   'CMS_vhbb_eff_m_trigger_Zll_13TeV',
    'CMS_vhbb_eff_m_ISO_Zll_13TeV',
    'CMS_vhbb_eff_m_MVAID_Zll_13TeV',
;   'CMS_vhbb_eff_m_tracker_Zll_13TeV',
; btag
    'CMS_bTagWeightDeepBJES_13TeV_pt0_eta0',
    'CMS_bTagWeightDeepBJES_13TeV_pt0_eta1',
    'CMS_bTagWeightDeepBJES_13TeV_pt0_eta2',
    'CMS_bTagWeightDeepBJES_13TeV_pt1_eta0',
    'CMS_bTagWeightDeepBJES_13TeV_pt1_eta1',
    'CMS_bTagWeightDeepBJES_13TeV_pt1_eta2',
    'CMS_bTagWeightDeepBJES_13TeV_pt2_eta0',
    'CMS_bTagWeightDeepBJES_13TeV_pt2_eta1',
    'CMS_bTagWeightDeepBJES_13TeV_pt2_eta2',
    'CMS_bTagWeightDeepBJES_13TeV_pt3_eta0',
    'CMS_bTagWeightDeepBJES_13TeV_pt3_eta1',
    'CMS_bTagWeightDeepBJES_13TeV_pt3_eta2',
    'CMS_bTagWeightDeepBJES_13TeV_pt4_eta0',
    'CMS_bTagWeightDeepBJES_13TeV_pt4_eta1',
    'CMS_bTagWeightDeepBJES_13TeV_pt4_eta2',
    'CMS_bTagWeightDeepBLF_13TeV_pt0_eta0',
    'CMS_bTagWeightDeepBLF_13TeV_pt0_eta1',
    'CMS_bTagWeightDeepBLF_13TeV_pt0_eta2',
    'CMS_bTagWeightDeepBLF_13TeV_pt1_eta0',
    'CMS_bTagWeightDeepBLF_13TeV_pt1_eta1',
    'CMS_bTagWeightDeepBLF_13TeV_pt1_eta2',
    'CMS_bTagWeightDeepBLF_13TeV_pt2_eta0',
    'CMS_bTagWeightDeepBLF_13TeV_pt2_eta1',
    'CMS_bTagWeightDeepBLF_13TeV_pt2_eta2',
    'CMS_bTagWeightDeepBLF_13TeV_pt3_eta0',
    'CMS_bTagWeightDeepBLF_13TeV_pt3_eta1',
    'CMS_bTagWeightDeepBLF_13TeV_pt3_eta2',
    'CMS_bTagWeightDeepBLF_13TeV_pt4_eta0',
    'CMS_bTagWeightDeepBLF_13TeV_pt4_eta1',
    'CMS_bTagWeightDeepBLF_13TeV_pt4_eta2',
    'CMS_bTagWeightDeepBHF_13TeV_pt0_eta0',
    'CMS_bTagWeightDeepBHF_13TeV_pt0_eta1',
    'CMS_bTagWeightDeepBHF_13TeV_pt0_eta2',
    'CMS_bTagWeightDeepBHF_13TeV_pt1_eta0',
    'CMS_bTagWeightDeepBHF_13TeV_pt1_eta1',
    'CMS_bTagWeightDeepBHF_13TeV_pt1_eta2',
    'CMS_bTagWeightDeepBHF_13TeV_pt2_eta0',
    'CMS_bTagWeightDeepBHF_13TeV_pt2_eta1',
    'CMS_bTagWeightDeepBHF_13TeV_pt2_eta2',
    'CMS_bTagWeightDeepBHF_13TeV_pt3_eta0',
    'CMS_bTagWeightDeepBHF_13TeV_pt3_eta1',
    'CMS_bTagWeightDeepBHF_13TeV_pt3_eta2',
    'CMS_bTagWeightDeepBHF_13TeV_pt4_eta0',
    'CMS_bTagWeightDeepBHF_13TeV_pt4_eta1',
    'CMS_bTagWeightDeepBHF_13TeV_pt4_eta2',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt0_eta0',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt0_eta1',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt0_eta2',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt1_eta0',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt1_eta1',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt1_eta2',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt2_eta0',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt2_eta1',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt2_eta2',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt3_eta0',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt3_eta1',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt3_eta2',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt4_eta0',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt4_eta1',
    'CMS_bTagWeightDeepBLFStats1_13TeV_pt4_eta2',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt0_eta0',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt0_eta1',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt0_eta2',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt1_eta0',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt1_eta1',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt1_eta2',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt2_eta0',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt2_eta1',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt2_eta2',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt3_eta0',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt3_eta1',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt3_eta2',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt4_eta0',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt4_eta1',
    'CMS_bTagWeightDeepBLFStats2_13TeV_pt4_eta2',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt0_eta0',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt0_eta1',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt0_eta2',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt1_eta0',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt1_eta1',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt1_eta2',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt2_eta0',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt2_eta1',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt2_eta2',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt3_eta0',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt3_eta1',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt3_eta2',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt4_eta0',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt4_eta1',
    'CMS_bTagWeightDeepBHFStats1_13TeV_pt4_eta2',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt0_eta0',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt0_eta1',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt0_eta2',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt1_eta0',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt1_eta1',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt1_eta2',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt2_eta0',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt2_eta1',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt2_eta2',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt3_eta0',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt3_eta1',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt3_eta2',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt4_eta0',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt4_eta1',
    'CMS_bTagWeightDeepBHFStats2_13TeV_pt4_eta2',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt0_eta0',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt0_eta1',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt0_eta2',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt1_eta0',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt1_eta1',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt1_eta2',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt2_eta0',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt2_eta1',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt2_eta2',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt3_eta0',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt3_eta1',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt3_eta2',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt4_eta0',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt4_eta1',
    'CMS_bTagWeightDeepBcErr1_13TeV_pt4_eta2',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt0_eta0',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt0_eta1',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt0_eta2',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt1_eta0',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt1_eta1',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt1_eta2',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt2_eta0',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt2_eta1',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt2_eta2',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt3_eta0',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt3_eta1',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt3_eta2',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt4_eta0',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt4_eta1',
    'CMS_bTagWeightDeepBcErr2_13TeV_pt4_eta2',
;
    'bTagWeightDoubleB_mp_pt200to300',
    'bTagWeightDoubleB_mp_pt300to400',
    'bTagWeightDoubleB_mp_pt400to500',
    'bTagWeightDoubleB_mp_pt500to600',
    'bTagWeightDoubleB_mp_pt600toInf',
    'bTagWeightDoubleB_hp_pt200to300',
    'bTagWeightDoubleB_hp_pt300to400',
    'bTagWeightDoubleB_hp_pt400to500',
    'bTagWeightDoubleB_hp_pt500to600',
    'bTagWeightDoubleB_hp_pt600toInf',
    ]


rebin_active = True
#rebin_active = False 

;!! --------------------------------------
;#!! Samples
;#!! --------------------------------------
;#!! Datacard samples setup (1st Signal, afterwards BKG)

#;VH
#setup: ['ZH','ggZH','ZJets_0b','ZJets_1b','ZJets_2b','TT','VVLF','VVHF','ST']
#setupSignals: ['ZH','ggZH']

#STXS
setupSignals             = ['ZH_lep_PTV_0_75_hbb','ZH_lep_PTV_75_150_hbb','ZH_lep_PTV_150_250_0J_hbb','ZH_lep_PTV_150_250_GE1J_hbb','ZH_lep_PTV_GT250_hbb','ggZH_lep_PTV_0_75_hbb','ggZH_lep_PTV_75_150_hbb','ggZH_lep_PTV_150_250_0J_hbb','ggZH_lep_PTV_150_250_GE1J_hbb','ggZH_lep_PTV_GT250_hbb']
setupBackgrounds_Default = ['ZJets_0b', 'ZJets_1b', 'ZJets_2b', 'WJets_0b', 'WJets_1b', 'WJets_2b','VVHF', 'VVLF', 'TT', 'ST']
setupBackgrounds_VJ4     = ['ZJets_0b_udsg', 'ZJets_0b_c', 'ZJets_1b', 'ZJets_2b', 'WJets_0b_udsg', 'WJets_0b_c', 'WJets_1b', 'WJets_2b','VVHF', 'VVLF', 'TT', 'ST']
setupBackgrounds         = <!.|setupBackgrounds_<!General|VjetFlavor!>!>
setup                    = <!.|setupSignals!> + <!.|setupBackgrounds!>

setup_VV_Default         = ['VVHF','VVLF','ZJets_0b','ZJets_1b','ZJets_2b','TT','ST','ZH','ggZH']
setup_VV_VJ4             = ['VVHF','VVLF','ZJets_0b_udsg', 'ZJets_0b_c', 'ZJets_1b','ZJets_2b','TT','ST','ZH','ggZH']
setup_VV                 = <!.|setup_VV_<!General|VjetFlavor!>!>
setupSignals_VV          = ['VVHF']

setup_NoSTXS     = ['ZH','ggZH','ZJets_0b', 'ZJets_0b_udsg', 'ZJets_0b_c', 'ZJets_1b','ZJets_2b','TT','ST','VVHF','VVLF']

# overwrite group definitions from sample config:
;Group            = <!VHbbCommon|Group!> 
Group            = {}

#!! --------------------------------------
#!! Naming
#!! --------------------------------------
#!! naming of processes in the DC
Dict = <!VHbbCommon|Dict!> 

systematicsnaming = <!VHbbCommon|systematicsnaming!> 
removeWeightSystematics = {}


List         = <!.|ListVHLegacy!>
;List         = <!.|ListVHLegacy!>
;List         = <!.|ListVHLegacy_SR!>
;List         = <!.|ListVHLegacy!>
;List         = <!.|List_BOOSToverlap!>
;List         = <!.|ListVHLegacy_VZ!>,<!.|List_BOOSToverlap_VZ!>
;List         = <!.|List_BOOSToverlap_VZ!>

ListVHLegacy = SR_low_Zmm,SR_low_Zee,SR_med_Zmm_0j,SR_med_Zee_0j,SR_med_Zmm_ge1j,SR_med_Zee_ge1j,SR_high1_Zmm,SR_high2_Zmm,SR_high1_Zee,SR_high2_Zee,Zlf_low_Zmm,Zlf_low_Zee,Zlf_med_Zmm,Zlf_med_Zee,Zlf_high_Zmm,Zlf_high_Zee,Zhf_low_Zmm,Zhf_low_Zee,Zhf_med_Zmm,Zhf_med_Zee,Zhf_high_Zmm,Zhf_high_Zee,ttbar_low_Zmm,ttbar_low_Zee,ttbar_med_Zmm,ttbar_med_Zee,ttbar_high_Zmm,ttbar_high_Zee,SR_high1_Zee_BOOST,SR_high2_Zee_BOOST,SR_high1_Zmm_BOOST,SR_high2_Zmm_BOOST,Zlf_high_Zee_BOOST,Zlf_high_Zmm_BOOST,Zhf_high_Zmm_BOOST,Zhf_high_Zee_BOOST,ttbar_high_Zmm_BOOST,ttbar_high_Zee_BOOST

;ListVHLegacy_VZ = VV_SR_low_Zmm,VV_SR_low_Zee,VV_SR_med_Zmm_0j,VV_SR_med_Zee_0j,VV_SR_med_Zmm_ge1j,VV_SR_med_Zee_ge1j,VV_SR_high_Zmm,VV_SR_high1_Zmm,VV_SR_high2_Zmm,VV_SR_high_Zee,VV_SR_high1_Zee,VV_SR_high2_Zee,VV_Zlf_low_Zmm,VV_Zlf_low_Zee,VV_Zlf_med_Zmm,VV_Zlf_med_Zee,VV_Zlf_high_Zmm,VV_Zlf_high_Zee,VV_Zhf_low_Zmm,VV_Zhf_low_Zee,VV_Zhf_med_Zmm,VV_Zhf_med_Zee,VV_Zhf_high_Zmm,VV_Zhf_high_Zee,VV_ttbar_low_Zmm,VV_ttbar_low_Zee,VV_ttbar_med_Zmm,VV_ttbar_med_Zee,VV_ttbar_high_Zmm,VV_ttbar_high_Zee

ListVZ = VV_SR_low_Zmm,VV_SR_low_Zee,VV_SR_med_Zmm_0j,VV_SR_med_Zee_0j,VV_SR_med_Zmm_ge1j,VV_SR_med_Zee_ge1j,VV_SR_high1_Zmm,VV_SR_high2_Zmm,VV_SR_high1_Zee,VV_SR_high2_Zee,Zlf_low_Zmm,Zlf_low_Zee,Zlf_med_Zmm,Zlf_med_Zee,Zlf_high_Zmm,Zlf_high_Zee,VV_Zhf_low_Zmm,VV_Zhf_low_Zee,VV_Zhf_med_Zmm,VV_Zhf_med_Zee,VV_Zhf_high_Zmm,VV_Zhf_high_Zee,ttbar_low_Zmm,ttbar_low_Zee,ttbar_med_Zmm,ttbar_med_Zee,ttbar_high_Zmm,ttbar_high_Zee,VV_SR_high1_Zee_BOOST,VV_SR_high2_Zee_BOOST,VV_SR_high1_Zmm_BOOST,VV_SR_high2_Zmm_BOOST,Zlf_high_Zee_BOOST,Zlf_high_Zmm_BOOST,VV_Zhf_high_Zmm_BOOST,VV_Zhf_high_Zee_BOOST,ttbar_high_Zmm_BOOST,ttbar_high_Zee_BOOST 


List_BOOSToverlap = SR_high1_Zee_BOOST,SR_high2_Zee_BOOST,SR_high1_Zmm_BOOST,SR_high2_Zmm_BOOST,Zlf_high_Zee_BOOST,Zlf_high_Zmm_BOOST,Zhf_high_Zmm_BOOST,Zhf_high_Zee_BOOST,ttbar_high_Zmm_BOOST,ttbar_high_Zee_BOOST

;List_BOOSToverlap_VZ = VV_SR_high_Zee_BOOST,VV_SR_high1_Zee_BOOST,VV_SR_high2_Zee_BOOST,VV_SR_high_Zmm_BOOST,VV_SR_high1_Zmm_BOOST,VV_SR_high2_Zmm_BOOST,VV_Zlf_high_Zee_BOOST,VV_Zlf_high_Zmm_BOOST,VV_Zhf_high_Zmm_BOOST,VV_Zhf_high_Zee_BOOST,VV_ttbar_high_Zmm_BOOST,VV_ttbar_high_Zee_BOOST


;ListVH       = SR_low_Zmm,SR_low_Zee,SR_medhigh_Zmm,SR_medhigh_Zee,Zlf_low_Zmm,Zlf_low_Zee,Zlf_medhigh_Zmm,Zlf_medhigh_Zee,Zhf_low_Zmm,Zhf_low_Zee,Zhf_medhigh_Zmm,Zhf_medhigh_Zee,ttbar_low_Zmm,ttbar_low_Zee,ttbar_medhigh_Zmm,ttbar_medhigh_Zee
;ListVHLegacyNjetCR = SR_low_Zmm,SR_low_Zee,SR_med_Zmm_0j,SR_med_Zee_0j,SR_med_Zmm_ge1j,SR_med_Zee_ge1j,SR_high_Zmm,SR_high_Zee,Zlf_low_Zmm,Zlf_low_Zee,Zlf_med_Zmm_0j,Zlf_med_Zee_0j,Zlf_med_Zmm_ge1j,Zlf_med_Zee_ge1j,Zlf_high_Zmm,Zlf_high_Zee,Zhf_low_Zmm,Zhf_low_Zee,Zhf_med_Zmm_0j,Zhf_med_Zee_0j,Zhf_med_Zmm_ge1j,Zhf_med_Zee_ge1j,Zhf_high_Zmm,Zhf_high_Zee,ttbar_low_Zmm,ttbar_low_Zee,ttbar_med_Zmm_0j,ttbar_med_Zee_0j,ttbar_med_Zmm_ge1j,ttbar_med_Zee_ge1j,ttbar_high_Zmm,ttbar_high_Zee
;ListMjj      = Mjj_SR_low_Zee_0,Mjj_SR_low_Zee_1,Mjj_SR_low_Zee_2,Mjj_SR_low_Zee_3,Mjj_SR_low_Zmm_0,Mjj_SR_low_Zmm_1,Mjj_SR_low_Zmm_2,Mjj_SR_low_Zmm_3,Mjj_SR_medhigh_Zee_0,Mjj_SR_medhigh_Zee_1,Mjj_SR_medhigh_Zee_2,Mjj_SR_medhigh_Zee_3,Mjj_SR_medhigh_Zmm_0,Mjj_SR_medhigh_Zmm_1,Mjj_SR_medhigh_Zmm_2,Mjj_SR_medhigh_Zmm_3


; Multi-classifier analysis
;ListMulti    = <!Multi|List!>

;;List here the lnN sys in use
[Datacard]
produceTextFiles = False

#!! -------------------------
#!! Signals 
#!! -------------------------

VHsignals     = [<!Plot_general|allSIG!>]
VHbackgrounds = [<!Plot_general|allBKG!>]

VVsignals     = [<!Plot_general|VVSIG!>]
VVbackgrounds = [<!Plot_general|VVBKG!>]

# make VV datacards without STXS signal categories:
# --set='Datacard.VVsignals=<!Plot_general|VVSIG_noSTXS!>;Datacard.VVbackgrounds=<!Plot_general|VVBKG_noSTXS!>'

#!! -------------------------
#!! DNN binning 
#!! -------------------------

bins_low        = <!SR_low_Zll|bins!>
bins_med        = <!SR_med_Zll|bins!>
bins_high       = <!SR_high_Zll|bins!>
bins_medhigh    = <!SR_medhigh_Zll|bins!>

VV_bins_low     = <!VV_SR_low_Zll|bins!> 
VV_bins_med     = <!VV_SR_med_Zll|bins!>
VV_bins_high    = <!VV_SR_high_Zll|bins!>
VV_bins_medhigh = <!VV_SR_medhigh_Zll|bins!>

#!! -------------------------
#!! DNN variable 
#!! -------------------------

DNN_low        = <!SR_low_Zll|branchName!>.Nominal
#DNN_med        = <!SR_med_Zll|branchName!>.Nominal
#DNN_high       = <!SR_high_Zll|branchName!>.Nominal
# use a single DNN for medium and high regions
DNN_med        = <!SR_medhigh_Zll|branchName!>.Nominal
DNN_high       = <!SR_medhigh_Zll|branchName!>.Nominal
DNN_medhigh    = <!SR_medhigh_Zll|branchName!>.Nominal

VV_DNN_low     = <!VV_SR_low_Zll|branchName!>.Nominal
VV_DNN_med     = <!VV_SR_med_Zll|branchName!>.Nominal
VV_DNN_high    = <!VV_SR_high_Zll|branchName!>.Nominal
VV_DNN_medhigh = <!VV_SR_medhigh_Zll|branchName!>.Nominal

DNNrange  = 15,0,1

;;;;;;;;;;;;;;
;VH datacards
;;;;;;;;;;;;;;
;======================
;BDT output names and datacards
;======================
BTagVar_BOOST		= FatJet_deepTagMD_bbvsLight[Hbb_fjidx]
BDToutname_BOOST 	= BDT_Zll_BOOSTFinal_wdB.Nominal 

;;;;;;;;;;;;;;
;VH datacards
;;;;;;;;;;;;;;

#----- Boosted analysis -----#

[dc:SR_high_Zmm_BOOST]
var          = BDT_Zll_BOOSTFinal_wdB.Nominal
;rebin_method = list
rebin_list   = <!BDT_Zll_BOOSTFinal_wdB|bins!>
;rebin_list   = [-1.00000, -0.16396, -0.02672, 0.07608, 0.21862, 1.00001]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:SR_high1_Zmm_BOOST]
var          = BDT_Zll_BOOSTFinal_wdB.Nominal
rebin_method = list
rebin_list   = [-1.00000, -0.10590, 0.03396, 0.14412, 0.27148, 1.00001]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:SR_high2_Zmm_BOOST]
var          = BDT_Zll_BOOSTFinal_wdB.Nominal
rebin_method = list
;rebin_list   = <!BDT_Zll_BOOSTFinal_wdB|bins!>
rebin_list   = [-1.00000, 0.05650, 0.18422, 0.27188, 0.35552, 1.00001]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT



[dc:SR_high_Zee_BOOST]
var          = BDT_Zll_BOOSTFinal_wdB.Nominal
;rebin_method = list
rebin_list   = <!BDT_Zll_BOOSTFinal_wdB|bins!>
;rebin_list   = [-1.00000, -0.17424, -0.04284, 0.08128, 0.20300, 1.00001]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT





[dc:VV_SR_high_Zee_BOOST]
var          = BDT_VZ_Zll_BOOSTFinal_wdB.Nominal
rebin_method = list
;rebin_list   = [-1.00000, -0.28548, -0.16128, -0.03526, 0.07512, 1.00001] 2018 bins
rebin_list   = [-1.00000, -0.28778, -0.16434, -0.03404, 0.07660, 1.00001]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT


[dc:VV_SR_high_Zmm_BOOST]
var          = BDT_VZ_Zll_BOOSTFinal_wdB.Nominal
rebin_method = list
;rebin_list   = [-1.00000, -0.28548, -0.16128, -0.03526, 0.07512, 1.00001] 2018 bins
rebin_list   = [-1.00000, -0.28778, -0.16434, -0.03404, 0.07660, 1.00001]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT




[dc:VV_SR_high1_Zmm_BOOST]
var          = BDT_VZ_Zll_BOOSTFinal_wdB.Nominal
rebin_method = list
rebin_list   = [-1.00000, -0.13688, 0.05986, 0.15064, 0.36400, 1.00001] 
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT




[dc:VV_SR_high2_Zmm_BOOST]
var          = BDT_VZ_Zll_BOOSTFinal_wdB.Nominal
rebin_method = list
rebin_list   = [-1.00000, 0.05066, 0.18208, 0.32290, 0.40322, 1.00001] 
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT





[dc:VV_SR_high1_Zee_BOOST]
var          = BDT_VZ_Zll_BOOSTFinal_wdB.Nominal
rebin_method = list
rebin_list   = [-1.00000, -0.12950, 0.05280, 0.14616, 0.32408, 1.00001] 
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT


[dc:VV_SR_high2_Zee_BOOST]
var          = BDT_VZ_Zll_BOOSTFinal_wdB.Nominal
rebin_method = list
rebin_list   = [-1.00000, -0.02362, 0.08320, 0.19878, 0.34952, 1.00001] 
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT




[dc:SR_high1_Zee_BOOST]
var          = BDT_Zll_BOOSTFinal_wdB.Nominal
rebin_method = list
;rebin_list   = <!BDT_Zll_BOOSTFinal_wdB|bins!>
rebin_list   = [-1.00000, -0.09384, 0.04328, 0.15286, 0.25566, 1.00001]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:SR_high2_Zee_BOOST]
var          = BDT_Zll_BOOSTFinal_wdB.Nominal
rebin_method = list
;rebin_list   = <!BDT_Zll_BOOSTFinal_wdB|bins!>
rebin_list   = [-1.00000, 0.04424, 0.17480, 0.26912, 0.36458, 1.00001]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT





[dc:Zlf_high_Zmm_BOOST]
var          = FatJet_deepTagMD_bbvsLight[Hbb_fjidx]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr
rebin_method = list
rebin_list   = [0.0,0.4,0.8]


[dc:VV_Zlf_high_Zmm_BOOST]
var          = FatJet_deepTagMD_bbvsLight[Hbb_fjidx]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr
rebin_method = list
rebin_list   = [0.0,0.4,0.8]



[dc:Zlf_high_Zee_BOOST]
var          = FatJet_deepTagMD_bbvsLight[Hbb_fjidx]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr
rebin_method = list
rebin_list   = [0.0,0.4,0.8]


[dc:VV_Zlf_high_Zee_BOOST]
var          = FatJet_deepTagMD_bbvsLight[Hbb_fjidx]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr
rebin_method = list
rebin_list   = [0.0,0.4,0.8]



[dc:Zhf_high_Zmm_BOOST]
var          = FatJet_deepTagMD_bbvsLight[Hbb_fjidx]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr
rebin_method = list
rebin_list   = [0.8,0.97,1.00001]

[dc:VV_Zhf_high_Zmm_BOOST]
var          = FatJet_deepTagMD_bbvsLight[Hbb_fjidx]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr
rebin_method = list
rebin_list   = [0.8,0.97,1.00001]


[dc:VV_Zhf_high_Zee_BOOST]
var          = FatJet_deepTagMD_bbvsLight[Hbb_fjidx]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr
rebin_method = list
rebin_list   = [0.8,0.97,1.00001]




[dc:Zhf_high_Zee_BOOST]
var          = FatJet_deepTagMD_bbvsLight[Hbb_fjidx]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr
rebin_method = list
rebin_list   = [0.8,0.97,1.00001]

[dc:ttbar_high_Zmm_BOOST]
var          = FatJet_deepTagMD_bbvsLight[Hbb_fjidx]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr
rebin_method = list
rebin_list   = [0.8,0.97,1.00001]

[dc:VV_ttbar_high_Zmm_BOOST]
var          = FatJet_deepTagMD_bbvsLight[Hbb_fjidx]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr
rebin_method = list
rebin_list   = [0.8,0.97,1.00001]



[dc:ttbar_high_Zee_BOOST]
var          = FatJet_deepTagMD_bbvsLight[Hbb_fjidx]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr
rebin_method = list
rebin_list   = [0.8,0.97,1.00001]



[dc:VV_ttbar_high_Zee_BOOST]
var          = FatJet_deepTagMD_bbvsLight[Hbb_fjidx]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr
rebin_method = list
rebin_list   = [0.8,0.97,1.00001]


;ELECTRON REGION

;low pt
[dc:Zlf_low_Zee]
var         = V_pt
#range       = 15,75.0,150.0
rebin_method = list
rebin_list   = [75.0,110.0,150.0]
signal      = <!Datacard|VHsignals!>
background  = <!Datacard|VHbackgrounds!>
data        = <!Plot_general|eData!>
type        = cr

[dc:VV_Zlf_low_Zee]
var         = V_pt
#range       = 15,75.0,150.0
rebin_method = list
rebin_list   = [75.0,110.0,150.0]
signal      = <!Datacard|VVsignals!>
background  = <!Datacard|VVbackgrounds!>
data        = <!Plot_general|eData!>
type        = cr



[dc:Zhf_low_Zee]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:ttbar_low_Zee]
var          = V_pt
#range        = 15,75.0,150.0
rebin_method = list
rebin_list   = [75.0,150.0] 
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:VV_ttbar_low_Zee]
var          = V_pt
#range        = 15,75.0,150.0
rebin_method = list
rebin_list   = [75.0,150.0]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr



[dc:SR_low_Zee]
var          = <!Datacard|DNN_low!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
rebin_list   = [0.00000, 0.30073, 0.41849, 0.50441, 0.57660, 0.63817, 0.69175, 0.73741, 0.77585, 0.81155, 0.84261, 0.87101, 0.89776, 0.92277, 0.94868, 1.00001]


;med pt

[dc:Zlf_med_Zee]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0, 200.0, 250.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:VV_Zlf_med_Zee]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0, 200.0, 250.0]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr




[dc:Zhf_med_Zee]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:ttbar_med_Zee]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0,250.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:VV_ttbar_med_Zee]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0,250.0]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr




[dc:SR_med_Zee]
var          = <!Datacard|DNN_med!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
rebin_list   = <!Datacard|bins_med!>

[dc:Zlf_med_Zee_0j]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0, 200.0, 250.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:Zhf_med_Zee_0j]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:ttbar_med_Zee_0j]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0,250.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:SR_med_Zee_0j]
var          = <!Datacard|DNN_med!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
#rebin_list   = <!Datacard|bins_med!>
rebin_list   = [0.00000, 0.45027, 0.62239, 0.74731, 0.82971, 0.87972, 0.91772, 0.94736, 1.00001]


[dc:Zlf_med_Zee_ge1j]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0, 200.0, 250.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:Zhf_med_Zee_ge1j]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:ttbar_med_Zee_ge1j]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0,250.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:SR_med_Zee_ge1j]
var          = <!Datacard|DNN_med!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
#rebin_list   = <!Datacard|bins_med!>
rebin_list   = [0.00000, 0.39379, 0.58765, 0.76166, 0.87540, 1.00001]


[dc:VV_SR_med_Zee_ge1j]
var          = <!VV_SR_medhigh_Zll|branchName!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
rebin_list   = [0.00000, 0.28733, 0.49874, 0.63170, 0.73597, 0.82057, 0.88399, 1.00001] 

;high pt

[dc:Zlf_high_Zee]
var          = V_pt
#range        = 35,250.0,2000.0
rebin_method = list
rebin_list   = [250.0,300.0,400.0,2000.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:VV_Zlf_high_Zee]
var          = V_pt
#range        = 35,250.0,2000.0
rebin_method = list
rebin_list   = [250.0,300.0,400.0,2000.0]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr




[dc:Zhf_high_Zee]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr


[dc:VV_Zhf_high_Zee]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr





[dc:ttbar_high_Zee]
var          = V_pt
#range        = 35,250.0,2000.0
rebin_method = list
rebin_list   = [250.0,2000.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr



[dc:VV_ttbar_high_Zee]
var          = V_pt
#range        = 35,250.0,2000.0
rebin_method = list
rebin_list   = [250.0,2000.0]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr




[dc:SR_high_Zee]
var          = <!Datacard|DNN_high!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
#rebin_list   = <!Datacard|bins_high!>
rebin_list   = [0.00000, 0.61935, 0.83338, 0.91585, 0.95534, 0.97756, 1.00001]

[dc:SR_high1_Zee]
var          = <!Datacard|DNN_high!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
#rebin_list   = <!Datacard|bins_high!>
rebin_list   = [0.00000, 0.64760, 0.85587, 0.93127, 0.96764, 1.00001]

[dc:SR_high2_Zee]
var          = <!Datacard|DNN_high!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
#rebin_list   = <!Datacard|bins_high!>
rebin_list   = [0.00000, 0.76312, 0.93762, 0.97674, 0.98972, 1.00001]









# medhigh = >150
[dc:Zlf_medhigh_Zee]
var          = V_pt
range        = 10,150.0,250.0
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:Zhf_medhigh_Zee]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:ttbar_medhigh_Zee]
var          = <!LimitGeneral|normVar!>
range        = <!LimitGeneral|normRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:SR_medhigh_Zee]
var          = <!Datacard|DNN_medhigh!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
rebin_list   = <!Datacard|bins_medhigh!>


;MUON REGION

;low pt
[dc:Zlf_low_Zmm]
var          = V_pt
#range        = 15,75.0,150.0
rebin_method = list
rebin_list   = [75.0,110.0,150.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:VV_Zlf_low_Zmm]
var          = V_pt
#range        = 15,75.0,150.0
rebin_method = list
rebin_list   = [75.0,110.0,150.0]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr



[dc:Zhf_low_Zmm]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:ttbar_low_Zmm]
var          = V_pt
#range        = 15,75.0,150.0
rebin_method = list
rebin_list   = [75.0,150.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:VV_ttbar_low_Zmm]
var          = V_pt
#range        = 15,75.0,150.0
rebin_method = list
rebin_list   = [75.0,150.0]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr


[dc:SR_low_Zmm]
var          = <!Datacard|DNN_low!>
range        = <!Datacard|DNNrange!> 
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
#rebin_list   = <!Datacard|bins_low!> 
rebin_list   = [0.00000, 0.28863, 0.40683, 0.49637, 0.56588, 0.62940, 0.68419, 0.73179, 0.77256, 0.80807, 0.83998, 0.86957, 0.89610, 0.92186, 0.94813, 1.00001] 



;med pt

[dc:Zlf_med_Zmm]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0, 200.0, 250.0] 
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:VV_Zlf_med_Zmm]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0, 200.0, 250.0]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:Zhf_med_Zmm]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:ttbar_med_Zmm]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0,250.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:VV_ttbar_med_Zmm]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0,250.0]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr




[dc:SR_med_Zmm]
var          = <!Datacard|DNN_med!>
range        = <!Datacard|DNNrange!> 
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
rebin_list   = <!Datacard|bins_med!>

[dc:Zlf_med_Zmm_0j]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0, 200.0, 250.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:Zhf_med_Zmm_0j]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:ttbar_med_Zmm_0j]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0,250.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:SR_med_Zmm_0j]
var          = <!Datacard|DNN_med!>
range        = <!Datacard|DNNrange!> 
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
rebin_list   = [0.00000, 0.38860, 0.52918, 0.64669, 0.73962, 0.80377, 0.84758, 0.88141, 0.90751, 0.93206, 0.95356, 1.00001]





[dc:VV_SR_med_Zmm_0j]
var          = <!VV_SR_medhigh_Zll|branchName!>
range        = <!Datacard|DNNrange!> 
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
rebin_list   = [0.00000, 0.23050, 0.40507, 0.50233, 0.57960, 0.65622, 0.70872, 0.75266, 0.78801, 0.82258, 0.84672, 0.86979, 0.88667, 0.91274, 0.93884, 1.00001] 



[dc:VV_SR_med_Zee_0j]
var          = <!VV_SR_medhigh_Zll|branchName!>
range        = <!Datacard|DNNrange!> 
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
rebin_list   = [0.00000, 0.26471, 0.46664, 0.59017, 0.67860, 0.74596, 0.79817, 0.82569, 0.85710, 0.88128, 0.90987, 0.93290, 1.00001] 






[dc:Zlf_med_Zmm_ge1j]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0, 200.0, 250.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:Zhf_med_Zmm_ge1j]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:ttbar_med_Zmm_ge1j]
var          = V_pt
#range        = 10,150.0,250.0
rebin_method = list
rebin_list   = [150.0,250.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:SR_med_Zmm_ge1j]
var          = <!Datacard|DNN_med!>
range        = <!Datacard|DNNrange!> 
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
#rebin_list   = <!Datacard|bins_med!>
rebin_list   = [0.00000, 0.35844, 0.52280, 0.67988, 0.80218, 0.88987, 1.00001]

[dc:VV_SR_med_Zmm_ge1j]
var          = <!VV_SR_medhigh_Zll|branchName!>
range        = <!Datacard|DNNrange!> 
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
rebin_list   = [0.00000, 0.39046, 0.53356, 0.64004, 0.72039, 0.77650, 0.82433, 0.86739, 0.91177, 1.00001] 






;high pt

[dc:Zlf_high_Zmm]
var          = V_pt
#range        = 35,250.0,2000.0
rebin_method = list
rebin_list   = [250.0,300.0,400.0,2000.0] 
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:VV_Zlf_high_Zmm]
var          = V_pt
#range        = 35,250.0,2000.0
rebin_method = list
rebin_list   = [250.0,300.0,400.0,2000.0]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr



[dc:Zhf_high_Zmm]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:VV_Zhf_high_Zmm]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr




[dc:ttbar_high_Zmm]
var          = V_pt
#range        = 35,250.0,2000.0
rebin_method = list
rebin_list   = [250.0,2000.0]
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr


[dc:VV_ttbar_high_Zmm]
var          = V_pt
#range        = 35,250.0,2000.0
rebin_method = list
rebin_list   = [250.0,2000.0]
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr





[dc:SR_high_Zmm]
var          = <!Datacard|DNN_high!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
#rebin_list   = <!Datacard|bins_high!>
rebin_list   = [0.00000, 0.56156, 0.78141, 0.88364, 0.93244, 0.96065, 0.97898, 1.00001]


[dc:VV_SR_high_Zmm]
var          = <!VV_SR_medhigh_Zll|branchName!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
;rebin_list   = [0.0000, 0.2160, 0.3732, 0.4885, 0.5736, 0.6450, 0.7080, 0.7538, 0.7947, 0.8279, 0.8561, 0.8781, 0.9032, 0.9265, 0.9501, 1.0001] 2018 bins
rebin_list   = [0.0000, 0.2190, 0.3756, 0.4905, 0.5698, 0.6523, 0.7102, 0.7510, 0.8023, 0.8265, 0.9034, 0.8901, 0.9244, 0.9234, 0.9444, 1.0001]


[dc:VV_SR_high_Zee]
var          = <!VV_SR_medhigh_Zll|branchName!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
rebin_list   = [0.0000, 0.2160, 0.3732, 0.4885, 0.5736, 0.6450, 0.7080, 0.7538, 0.7947, 0.8279, 0.8561, 0.8781, 0.9032, 0.9265, 0.9501, 1.0001]

[dc:VV_SR_high1_Zee]
var          = <!VV_SR_medhigh_Zll|branchName!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
rebin_list   = [0.00000, 0.63556, 0.82154, 0.90539, 0.94420, 1.00001] 



[dc:VV_SR_high2_Zee]
var          = <!VV_SR_medhigh_Zll|branchName!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
rebin_list   = [0.00000, 0.68280, 0.80265, 0.87008, 0.94059, 1.00001] 





[dc:VV_SR_high1_Zmm]
var          = <!VV_SR_medhigh_Zll|branchName!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
rebin_list   = [0.00000, 0.49073, 0.69811, 0.81677, 0.89041, 0.92825, 0.95639, 1.00001] 



[dc:VV_SR_high2_Zmm]
var          = <!VV_SR_medhigh_Zll|branchName!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
rebin_list   = [0.00000, 0.81153, 0.88805, 0.92559, 0.96634, 1.00001] 






[dc:SR_high1_Zmm]
var          = <!Datacard|DNN_high!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
#rebin_list   = <!Datacard|bins_high!>
rebin_list   = [0.00000, 0.62735, 0.84686, 0.92543, 0.96397, 1.00001]


[dc:SR_high2_Zmm]
var          = <!Datacard|DNN_high!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
#rebin_list   = <!Datacard|bins_high!>
rebin_list   = [0.00000, 0.75484, 0.91718, 0.96257, 0.98354, 1.00001]





# medhigh

[dc:Zlf_medhigh_Zmm]
var          = <!LimitGeneral|normVar!>
range        = <!LimitGeneral|normRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:Zhf_medhigh_Zmm]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:ttbar_medhigh_Zmm]
var          = <!LimitGeneral|normVar!>
range        = <!LimitGeneral|normRange!>
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:SR_medhigh_Zmm]
var          = <!Datacard|DNN_medhigh!>
range        = <!Datacard|DNNrange!> 
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
rebin_list   = <!Datacard|bins_medhigh!>

;;;;
;VV
;;;;

[dc:VV_SR_low_Zee]
var          = <!VV_SR_low_Zll|branchName!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
;rebin_list   = [0.00000, 0.29922, 0.41392, 0.48969, 0.55309, 0.61097, 0.65696, 0.69603, 0.73272, 0.76135, 0.78849, 0.81540, 0.84124, 0.86722, 0.89980, 1.00001] 2018 bins
rebin_list   = [0.00000, 0.30566, 0.39403, 0.47249, 0.53886, 0.60070, 0.64941, 0.69887, 0.73754, 0.76931, 0.79594, 0.82313, 0.85143, 0.87798, 0.90562, 1.00001] 


[dc:VV_SR_medhigh_Zee]
var          = <!VV_DNN_medhigh|branchName!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT
rebin_method = list
rebin_list   = <!Datacard|VV_bins_medhigh!>

[dc:VV_SR_low_Zmm]
var          = <!VV_SR_low_Zll|branchName!>
range        = <!Datacard|DNNrange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
;rebin_list   = [0.00000, 0.30411, 0.41052, 0.48699, 0.55377, 0.61246, 0.66025, 0.69701, 0.73006, 0.76282, 0.79178, 0.81731, 0.84472, 0.86987, 0.89974, 1.00001] 2018 bins
rebin_list   = [0.00000, 0.30634, 0.39702, 0.46719, 0.53861, 0.59967, 0.64578, 0.69091, 0.73193, 0.76930, 0.79948, 0.82784, 0.85332, 0.87812, 0.90670, 1.00001] 


[dc:VV_SR_medhigh_Zmm]
var          = <!Datacard|VV_DNN_medhigh!>
range        = <!Datacard|DNNrange!>

signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT
rebin_method = list
rebin_list   = <!Datacard|VV_bins_medhigh!>

[dc:VV_Zhf_low_Zee]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:VV_Zhf_low_Zmm]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr

[dc:VV_Zhf_medhigh_Zee]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr

[dc:VV_Zhf_med_Zee]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|eData!>
type         = cr



[dc:VV_Zhf_medhigh_Zmm]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr


[dc:VV_Zhf_med_Zmm]
var          = <!LimitGeneral|bTagVar!>
range        = <!LimitGeneral|bTagVarRange!>
signal       = <!Datacard|VVsignals!>
background   = <!Datacard|VVbackgrounds!>
data         = <!Plot_general|muData!>
type         = cr


[Multi]
classes_stxs  = [['ZLIGHT',[<!Plot_general|DY_0b!>]],['ZB',[<!Plot_general|DY_1b!>]],['ZBB',[<!Plot_general|DY_2b!>]],['ST',[<!Plot_general|ST!>]],['TT',[<!Plot_general|TT!>]],['VVLF',[<!Plot_general|VVLF!>]],['VVHF',[<!Plot_general|VVHF!>]],['SIG_ggZllH_lep_PTV_150_250_0J_hbb',['ggZllH_lep_PTV_150_250_0J_hbb','ggZnnH_lep_PTV_150_250_0J_hbb']],['SIG_ggZllH_lep_PTV_150_250_GE1J_hbb',['ggZllH_lep_PTV_150_250_GE1J_hbb','ggZnnH_lep_PTV_150_250_GE1J_hbb']],['SIG_ggZllH_lep_PTV_75_150_hbb',['ggZllH_lep_PTV_75_150_hbb','ggZnnH_lep_PTV_75_150_hbb','ggZllH_lep_PTV_0_75_hbb','ggZnnH_lep_PTV_0_75_hbb']],['SIG_ggZllH_lep_PTV_GT250_hbb',['ggZllH_lep_PTV_GT250_hbb','ggZnnH_lep_PTV_GT250_hbb']],['SIG_ZllH_lep_PTV_150_250_0J_hbb',['ZllH_lep_PTV_150_250_0J_hbb','WminusH_lep_PTV_150_250_0J_hbb','WplusH_lep_PTV_150_250_0J_hbb','ZnnH_lep_PTV_150_250_0J_hbb']],['SIG_ZllH_lep_PTV_150_250_GE1J_hbb',['ZllH_lep_PTV_150_250_GE1J_hbb','WminusH_lep_PTV_150_250_GE1J_hbb','WplusH_lep_PTV_150_250_GE1J_hbb','ZnnH_lep_PTV_150_250_GE1J_hbb']],['SIG_ZllH_lep_PTV_75_150_hbb',['ZllH_lep_PTV_75_150_hbb','WminusH_lep_PTV_75_150_hbb','WplusH_lep_PTV_75_150_hbb','ZnnH_lep_PTV_75_150_hbb','WminusH_lep_PTV_0_75_hbb','WplusH_lep_PTV_0_75_hbb','ZllH_lep_PTV_0_75_hbb','ZnnH_lep_PTV_0_75_hbb']],['SIG_ZllH_lep_PTV_GT250_hbb',['ZllH_lep_PTV_GT250_hbb','WminusH_lep_PTV_GT250_hbb','WplusH_lep_PTV_GT250_hbb','ZnnH_lep_PTV_GT250_hbb']]]

List          = Multi_med_Zmm_0j_SIG,Multi_med_Zmm_ge1j_SIG,Multi_med_Zee_0j_SIG,Multi_med_Zee_ge1j_SIG,Multi_med_Zmm_BKG,Multi_med_Zee_BKG,Multi_high_Zmm_SIG,Multi_high_Zee_SIG,Multi_high_Zmm_BKG,Multi_high_Zee_BKG,Multi_low_Zmm_SIG,Multi_low_Zee_SIG,Multi_low_Zmm_BKG,Multi_low_Zee_BKG,Multi_high_Zee_BOOST_BKG,Multi_high_Zee_BOOST_SIG,Multi_high_Zmm_BOOST_BKG,Multi_high_Zmm_BOOST_SIG

# expressions used for shapes
var_medhigh_SIG  = <!Multi_medhigh_Zll|branchName!>.Nominal
var_medhigh_BKG  = <!Multi_medhigh_Zll|branchName!>.Nominal

var_low_SIG      = <!Multi_low_Zll|branchName!>.Nominal 
var_low_BKG      = int(<!Multi_low_Zll|branchName!>.Nominal)+0.25+(V_pt>110)*0.5

var_med_SIG      = <!.|var_medhigh_SIG!>
var_med_BKG      = int(<!Multi_medhigh_Zll|branchName!>.Nominal)+0.25+(V_pt>200)*0.5

var_high_SIG     = <!.|var_medhigh_SIG!>
var_high_BKG     = int(<!Multi_medhigh_Zll|branchName!>.Nominal)+0.16+(V_pt>300)*0.34+(V_pt>400)*0.33

var_BOOST_SIG    = <!Multi_high_Zll_BOOST|branchName!>.Nominal
var_BOOST_BKG    = <!Multi_high_Zll_BOOST|branchName!>.Nominal 

# bins
bins_medhigh_BKG = <!Multi_medhigh_Zll|bins!>[:-15]
bins_medhigh_SIG = <!Multi_medhigh_Zll|bins!>[-16:]

bins_low_SIG     = <!Multi_low_Zll|bins!>[-16:]
bins_low_BKG     = [0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5,4.0,4.5,5.0,5.5,6.0,6.5,7.0]

bins_med_SIG     = <!.|bins_medhigh_SIG!>
bins_med_BKG     = [0.0,0.5,1.0,1.5,2.0,2.5,3.0,3.5,4.0,4.5,5.0,5.5,6.0,6.5,7.0]

bins_high_SIG    = <!.|bins_medhigh_SIG!>
bins_high_BKG    = [0.0,0.33,0.66,1.0,1.33,1.66,2.0,2.33,2.66,3.0,3.33,3.66,4.0,4.33,4.66,5.0,5.33,5.66,6.0,6.33,6.66,7.0]

#bins_BOOST_SIG   = <!Multi_high_Zll_BOOST|bins!>[-16:]
bins_BOOST_SIG   = [7.,7.2467,7.2822,7.3341,7.3883,7.5972,8.0001] 
bins_BOOST_BKG   = <!Multi_high_Zll_BOOST|bins!>[:-15]


# multi-class datacards
[dc:Multi_medhigh_Zmm_SIG]
cut          = Multi_medhigh_Zmm
rebin_method = list
rebin_list   = <!Multi|bins_medhigh_SIG!>
var          = <!Multi|var_medhigh_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Multi_medhigh_Zee_SIG]
cut          = Multi_medhigh_Zee
rebin_method = list
rebin_list   = <!Multi|bins_medhigh_SIG!>
var          = <!Multi|var_medhigh_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Multi_med_Zmm_SIG]
cut          = Multi_med_Zmm
rebin_method = list
rebin_list   = <!Multi|bins_med_SIG!>
var          = <!Multi|var_med_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Multi_med_Zee_SIG]
cut          = Multi_med_Zee
rebin_method = list
rebin_list   = <!Multi|bins_med_SIG!>
var          = <!Multi|var_med_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Multi_med_Zmm_0j_SIG]
cut          = Multi_med_Zmm_0j
rebin_method = list
rebin_list   = <!Multi|bins_med_SIG!>
var          = <!Multi|var_med_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Multi_med_Zee_0j_SIG]
cut          = Multi_med_Zee_0j
rebin_method = list
rebin_list   = <!Multi|bins_med_SIG!>
var          = <!Multi|var_med_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Multi_med_Zmm_ge1j_SIG]
cut          = Multi_med_Zmm_ge1j
rebin_method = list
rebin_list   = <!Multi|bins_med_SIG!>
var          = <!Multi|var_med_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Multi_med_Zee_ge1j_SIG]
cut          = Multi_med_Zee_ge1j
rebin_method = list
rebin_list   = <!Multi|bins_med_SIG!>
var          = <!Multi|var_med_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT



[dc:Multi_high_Zmm_SIG]
cut          = Multi_high_Zmm
rebin_method = list
rebin_list   = <!Multi|bins_high_SIG!>
var          = <!Multi|var_high_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Multi_high_Zee_SIG]
cut          = Multi_high_Zee
rebin_method = list
rebin_list   = <!Multi|bins_high_SIG!>
var          = <!Multi|var_high_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Multi_high_Zmm_BOOST_SIG]
cut          = Multi_high_Zmm_BOOST
rebin_method = list
rebin_list   = <!Multi|bins_BOOST_SIG!>
var          = <!Multi|var_BOOST_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Multi_high_Zee_BOOST_SIG]
cut          = Multi_high_Zee_BOOST
rebin_method = list
rebin_list   = <!Multi|bins_BOOST_SIG!>
var          = <!Multi|var_BOOST_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Multi_low_Zmm_SIG]
cut          = Multi_low_Zmm
rebin_method = list
rebin_list   = <!Multi|bins_low_SIG!>
var          = <!Multi|var_low_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Multi_low_Zee_SIG]
cut          = Multi_low_Zee
rebin_method = list
rebin_list   = <!Multi|bins_low_SIG!>
var          = <!Multi|var_low_SIG!>
range        = 15,7,8
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Multi_medhigh_Zmm_BKG]
cut          = Multi_medhigh_Zmm
rebin_method = list
rebin_list   = <!Multi|bins_medhigh_BKG!>
var          = <!Multi|var_medhigh_BKG!>
range        = 21,0,7
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Multi_medhigh_Zee_BKG]
cut          = Multi_medhigh_Zee
rebin_method = list
rebin_list   = <!Multi|bins_medhigh_BKG!>
var          = <!Multi|var_medhigh_BKG!>
range        = 21,0,7
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Multi_med_Zmm_BKG]
cut          = Multi_med_Zmm
rebin_method = list
rebin_list   = <!Multi|bins_med_BKG!>
var          = <!Multi|var_med_BKG!>
range        = 21,0,7
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Multi_med_Zee_BKG]
cut          = Multi_med_Zee
rebin_method = list
rebin_list   = <!Multi|bins_med_BKG!>
var          = <!Multi|var_med_BKG!>
range        = 21,0,7
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Multi_high_Zmm_BKG]
cut          = Multi_high_Zmm
rebin_method = list
rebin_list   = <!Multi|bins_high_BKG!>
var          = <!Multi|var_high_BKG!>
range        = 21,0,7
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Multi_high_Zee_BKG]
cut          = Multi_high_Zee
rebin_method = list
rebin_list   = <!Multi|bins_high_BKG!>
var          = <!Multi|var_high_BKG!>
range        = 21,0,7
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Multi_high_Zmm_BOOST_BKG]
cut          = Multi_high_Zmm_BOOST
rebin_method = list
rebin_list   = <!Multi|bins_BOOST_BKG!>
var          = <!Multi|var_BOOST_BKG!>
range        = 21,0,7
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Multi_high_Zee_BOOST_BKG]
cut          = Multi_high_Zee_BOOST
rebin_method = list
rebin_list   = <!Multi|bins_BOOST_BKG!>
var          = <!Multi|var_BOOST_BKG!>
range        = 21,0,7
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[dc:Multi_low_Zmm_BKG]
cut          = Multi_low_Zmm
rebin_method = list
rebin_list   = <!Multi|bins_low_BKG!>
var          = <!Multi|var_low_BKG!>
range        = 21,0,7
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|muData!>
type         = BDT

[dc:Multi_low_Zee_BKG]
cut          = Multi_low_Zee
rebin_method = list
rebin_list   = <!Multi|bins_low_BKG!>
var          = <!Multi|var_low_BKG!>
range        = 21,0,7
signal       = <!Datacard|VHsignals!>
background   = <!Datacard|VHbackgrounds!>
data         = <!Plot_general|eData!>
type         = BDT

[mjjAnalysis]
DNN_low      = <!Mjj_SR_low_Zll|branchName!>.Nominal
DNN_medhigh  = <!Mjj_SR_medhigh_Zll|branchName!>.Nominal 


# mjj datacards
[dc:Mjj_SR_medhigh_Zmm_0]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|muData!>
type             = BDT

[dc:Mjj_SR_medhigh_Zmm_1]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|muData!>
type             = BDT

[dc:Mjj_SR_medhigh_Zmm_2]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|muData!>
type             = BDT

[dc:Mjj_SR_medhigh_Zmm_3]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|muData!>
type             = BDT

[dc:Mjj_SR_medhigh_Zee_0]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|eData!>
type             = BDT

[dc:Mjj_SR_medhigh_Zee_1]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|eData!>
type             = BDT

[dc:Mjj_SR_medhigh_Zee_2]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|eData!>
type             = BDT

[dc:Mjj_SR_medhigh_Zee_3]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|eData!>
type             = BDT

[dc:Mjj_SR_low_Zmm_0]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|muData!>
type             = BDT

[dc:Mjj_SR_low_Zmm_1]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|muData!>
type             = BDT

[dc:Mjj_SR_low_Zmm_2]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|muData!>
type             = BDT

[dc:Mjj_SR_low_Zmm_3]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|muData!>
type             = BDT

[dc:Mjj_SR_low_Zee_0]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|eData!>
type             = BDT

[dc:Mjj_SR_low_Zee_1]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|eData!>
type             = BDT

[dc:Mjj_SR_low_Zee_2]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|eData!>
type             = BDT

[dc:Mjj_SR_low_Zee_3]
var              = <!LimitGeneral|Mass!>
range            = <!LimitGeneral|MassRange!>
signal           = <!Datacard|VHsignals!>
background       = <!Datacard|VHbackgrounds!>
data             = <!Plot_general|eData!>
type             = BDT


# to speed-up cachedc step
[DYJetsToLL_M-50_HT-100to200_TuneCP5_13TeV-madgraphMLM-pythia8]
mergeCachingSize = 1
[DYJetsToLL_M-50_HT-200to400_TuneCP5_13TeV-madgraphMLM-pythia8]
mergeCachingSize = 1
[DYJetsToLL_M-50_HT-400to600_TuneCP5_13TeV-madgraphMLM-pythia8]
mergeCachingSize = 1
[DYJetsToLL_M-50_HT-600to800_TuneCP5_13TeV-madgraphMLM-pythia8]
mergeCachingSize = 1
[DYJetsToLL_M-50_HT-800to1200_TuneCP5_13TeV-madgraphMLM-pythia8]
mergeCachingSize = 1
[DYJetsToLL_M-50_HT-1200to2500_TuneCP5_13TeV-madgraphMLM-pythia8]
mergeCachingSize = 1
[DYJetsToLL_M-50_HT-2500toInf_TuneCP5_13TeV-madgraphMLM-pythia8]
mergeCachingSize = 1
[ZZTo2L2Q_13TeV_amcatnloFXFX_madspin_pythia8]
mergeCachingSize = 1

